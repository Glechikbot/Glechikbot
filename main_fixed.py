
import logging
import os
import time
import telebot
from datetime import datetime

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ª–æ–≥–µ—Ä–∞
logging.basicConfig(level=logging.INFO)

# –¢–æ–∫–µ–Ω –∑ environment –∑–º—ñ–Ω–Ω–æ—ó
TOKEN = os.getenv("BOT_TOKEN")
bot = telebot.TeleBot(TOKEN)

# ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–º–æ–∂–Ω–∞ –±—É–¥–µ –≤—Å—Ç–∞–≤–∏—Ç–∏ —Å–≤—ñ–π)
USER_ID = int(os.getenv("USER_ID"))

# –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
morning_messages = [
    """üéØ –î–µ–Ω—å 1
–î–æ–±—Ä–∏–π —Ä–∞–Ω–æ–∫, –¥–æ–¥—ñ–∫—É. –ù—ñ—è–∫–∏—Ö —Ä—ñ–ª—Å—ñ–≤! –ü—Ä–æ–∫–∏–Ω—É–≤—Å—è ‚Äî –∑—Ä–æ–±–∏ —â–æ—Å—å –∫–æ—Ä–∏—Å–Ω–µ!""",
    """üéØ –î–µ–Ω—å 2
–ù—É —â–æ, —Å–æ–Ω–Ω–∞ –≥–ª–µ—á–∏–Ω–∞, –≤–∂–µ –≤—Å—Ç–∞–≤? –ß–∞—Å —Å—Ç–∞—Ç–∏ –º—É—Ç–∞–Ω—Ç–æ–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.""",
    """üéØ –î–µ–Ω—å 3
–ñ–∏—Ç—Ç—è –∫–æ—Ä–æ—Ç–∫–µ ‚Äî –Ω–µ –≤–∏—Ç—Ä–∞—á–∞–π –π–æ–≥–æ –Ω–∞ —Ç–∏–∫–∞–Ω–Ω—è –≤ –º–µ–º–∏.""",
    """üéØ –î–µ–Ω—å 4
–°—å–æ–≥–æ–¥–Ω—ñ —Ç–∏ –∞–±–æ –ø—Ä–æ–∫–∏–¥–∞—î—à—Å—è, –∞–±–æ —Ç–µ–±–µ –ø—Ä–æ–∫–∏–¥–∞—î –ì–ª–µ—á–∏–∫‚Ä¶ –∫—É–ª–∞–∫–æ–º.""",
    """üéØ –î–µ–Ω—å 5
–ù–µ Reels, –∞ —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—å. –ù–µ —Ç–µ–ª–µ—Ñ–æ–Ω ‚Äî –∞ –¥—ñ—ó. –ü–æ–Ω—è–≤?""",
    """üéØ –î–µ–Ω—å 6
–¢–∏ –Ω–µ –≤—Ç–æ–º–ª–µ–Ω–∏–π ‚Äî —Ç–∏ –ø—Ä–æ—Å—Ç–æ —â–µ –Ω–µ –≤ —Ä–µ–∂–∏–º—ñ –∑–≤—ñ—Ä–∞. –£–≤—ñ–º–∫–Ω–∏—Å—å.""",
    """üéØ –î–µ–Ω—å 7
–ü—Ä–æ–∫–∏–¥–∞–π—Å—è —è–∫ –≥–µ—Ä–æ–π. –ê–±–æ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ —è–∫ –ª—é–¥–∏–Ω–∞, –∞ –Ω–µ –º—ñ–∫—Ä–æ—Ö–≤–∏–ª—å–æ–≤–∫–∞."""
]

evening_messages = [
    """üåô –í–µ—á—ñ—Ä 1
–ü—ñ–¥—Å—É–º–∫–∏ –¥–Ω—è? –©–æ –∑—Ä–æ–±–∏–≤, –æ–∫—Ä—ñ–º –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü—ñ—ó —Ç–∞ —á–∞—é –∑ –º–µ–º–∞–º–∏?""",
    """üåô –í–µ—á—ñ—Ä 2
–ó–∞–ø–∏—à–∏ —Ö–æ—á –æ–¥–Ω—É –¥—É–º–∫—É –¥–Ω—è. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ü–µ ¬´—è —ñ—Å–Ω—É—é¬ª.""",
    """üåô –í–µ—á—ñ—Ä 3
–ß–∞—Å –Ω–∞ —Å–æ–Ω. –ù–µ –≤ TikTok. –í –ª—ñ–∂–∫–æ. –ü—Ä—è–º–æ –∑–∞—Ä–∞–∑.""",
    """üåô –í–µ—á—ñ—Ä 4
–ó–∞–∫—Ä–∏–π –æ—á—ñ. –¢–∏ –∑—Ä–æ–±–∏–≤ —â–æ –∑–º—ñ–≥. –ó–∞–≤—Ç—Ä–∞ ‚Äî –Ω–æ–≤–∏–π —É–¥–∞—Ä.""",
    """üåô –í–µ—á—ñ—Ä 5
–í–∏–ø–∏—à–∏ 1 —ñ–¥–µ—é. –ù–∞–≤—ñ—Ç—å –¥—É—Ä–Ω—É. –ú–æ–∂–µ, –≤–æ–Ω–∞ —Å—Ç–∞–Ω–µ –º—ñ–ª—å–π–æ–Ω–Ω–æ—é.""",
    """üåô –í–µ—á—ñ—Ä 6
–©–æ –± —Ç–∏ —Å–∫–∞–∑–∞–≤ —Å–æ–±—ñ –∑ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ? –ü–æ—Ä–∞ —Å–∫–∞–∑–∞—Ç–∏ —Ü–µ –∑–∞—Ä–∞–∑.""",
    """üåô –í–µ—á—ñ—Ä 7
–¢–≤—ñ–π –º–æ–∑–æ–∫ –¥—è–∫—É—î. –í—ñ–Ω —Ö–æ—á–µ —Å–Ω—É, –∞ –Ω–µ —â–µ –æ–¥–∏–Ω Reels."""
]

def send_daily_messages():
    day = (datetime.utcnow().date() - datetime(2025, 5, 16).date()).days % 7
    hour = datetime.utcnow().hour

    try:
        if hour == 5:  # 8:00 –ø–æ –ö–∏—î–≤—É = 5:00 UTC
            bot.send_message(USER_ID, morning_messages[day])
        elif hour == 21:  # 00:00 –ø–æ –ö–∏—î–≤—É = 21:00 UTC
            bot.send_message(USER_ID, evening_messages[day])
    except Exception as e:
        logging.error(f"–ü–æ–º–∏–ª–∫–∞ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {e}")

# –¶–∏–∫–ª
while True:
    send_daily_messages()
    time.sleep(3600)
